tinymce.PluginManager.add('opps', function(editor, url) {
    editor.addMenuItem('opps', {
        text: 'Related',
        context: 'insert',
        onclick: function() {
            editor.insertContent(" <br />---related---<br /> ");
        }
    });
});


// THIS IS AN EXAMPLE TO CREATE PLUGINS
// tinymce.PluginManager.add('opps', function(editor, url) {
//     // Add a button that opens a window
//     editor.addButton('opps', {
//         text: 'My button',
//         icon: false,
//         onclick: function() {
//             // Open window
//             editor.windowManager.open({
//                 title: 'Example plugin',
//                 body: [
//                     {type: 'textbox', name: 'title', label: 'Title'}
//                 ],
//                 onsubmit: function(e) {
//                     // Insert content when the window form is submitted
//                     editor.insertContent('Title: ' + e.data.title);
//                 }
//             });
//         }
//     });

//     // Adds a menu item to the tools menu
//     editor.addMenuItem('opps', {
//         text: 'Example plugin',
//         context: 'tools',
//         onclick: function() {
//             // Open window with a specific url
//             editor.windowManager.open({
//                 title: 'TinyMCE site',
//                 url: 'http://www.tinymce.com',
//                 width: 800,
//                 height: 600,
//                 buttons: [{
//                     text: 'Close',
//                     onclick: 'close'
//                 }]
//             });
//         }
//     });
// });